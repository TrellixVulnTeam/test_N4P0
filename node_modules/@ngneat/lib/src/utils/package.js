"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setPackageJson = exports.getPackageJson = exports.addPackageToPackageJsonFactory = void 0;
const files_1 = require("./files");
/**
 * Adds a package to the package.json
 */
function addPackageToPackageJsonFactory(host, type) {
    return (pkg, version) => {
        const json = getPackageJson(host);
        if (!json[type]) {
            json[type] = {};
        }
        if (!json[type][pkg]) {
            json[type][pkg] = version;
        }
        return setPackageJson(host, json);
    };
}
exports.addPackageToPackageJsonFactory = addPackageToPackageJsonFactory;
function getPackageJson(host) {
    return files_1.getJSON(host, "package.json");
}
exports.getPackageJson = getPackageJson;
function setPackageJson(host, packageJSON) {
    return files_1.setJSON(host, "package.json", packageJSON);
}
exports.setPackageJson = setPackageJson;
//# sourceMappingURL=package.js.map
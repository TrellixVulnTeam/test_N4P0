"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addFiles = void 0;
const strings_1 = require("@angular-devkit/core/src/utils/strings");
const schematics_1 = require("@angular-devkit/schematics");
function addFiles(options, scopeWithName, tree) {
    const addRootFiles = schematics_1.mergeWith(schematics_1.apply(schematics_1.url(`./files/root`), [
        schematics_1.template(Object.assign(Object.assign({}, options), { scopeWithName,
            capitalize: strings_1.capitalize, libDistPath: scopeWithName.replace("@", "") })),
        schematics_1.filter((path) => !tree.exists(path)),
        schematics_1.move("/"),
    ]), schematics_1.MergeStrategy.Overwrite);
    const addCIFiles = schematics_1.mergeWith(schematics_1.apply(schematics_1.url(`./files/ci${options.ci === "github-actions" ? "/github-actions/" : "/"}`), [
        schematics_1.template(Object.assign(Object.assign({}, options), { scopeWithName,
            capitalize: strings_1.capitalize, libDistPath: scopeWithName.replace("@", "") })),
        schematics_1.filter((path) => !tree.exists(path)),
        schematics_1.move("/"),
    ]), schematics_1.MergeStrategy.Overwrite);
    return schematics_1.chain([addRootFiles, addCIFiles]);
}
exports.addFiles = addFiles;
//# sourceMappingURL=add-root-files.js.map